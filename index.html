<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>
  <link rel="icon" href="favicon.png" type="image/x-icon" />
  <link rel="stylesheet" type="text/css" href="css/font-awesome.css">
  <title> Roots Network - Strengthen your connection to the infinite information on the internet </title>
  <style>

    /* RGB 
$color1: rgba(6, 7, 14, 1);
$color2: rgba(41, 82, 74, 1);
$color3: rgba(148, 161, 135, 1);
$color4: rgba(197, 175, 160, 1);
$color5: rgba(233, 188, 183, 1);

*/  @font-face {
    font-family: font-awesome;
    src: url('fonts/fa-regular-400.ttf');
    }
    @font-face {
    font-family: font-awesome-solid;
    src: url('fonts/fa-solid-900.ttf');
    }
    body {
      font-family: Helvetica;
      padding: 16px 32px;
    }
    h1.page-title{
      display: inline-block;
      font-size: 28px;
      margin-left: 16px;
      position: absolute;
      top: 16px;
    }
    small {
      margin-left: 16px;
      position: absolute;
      top: 66px;
      color: rgba(148, 161, 135, 1);
    }
    button {
      border: 2px solid #94a187;
      height: 24px;
      background-color: #94a187;
      color: white;
      border-radius: 2px;
    }
    button:hover {
      background-color: #c5afa0;
      border: 2px solid #c5afa0;
      color: white;
      cursor: pointer;
    }
    #searchbar {
      font-size: 20px;
      border: 1px solid #dddddd;
      border-radius: 1px;
      outline: none;
      transition: border .2s;
      box-shadow: inset 0 0 0 0px #EEEEEE;
      outline-color: transparent;
      height: 28px;
      padding: 2px 6px;
      color: #29524a;
      font-weight: light;
      width: 350px;
      border-radius: 2px;
     position: absolute;
     right: 48px;
     top: 32px;
    }
    input:focus {
      border: 2px solid #59ABE3;
      border-opacity: .5;
      appearance: none;
}
    ul {
      margin-top: 80px;
      padding: 0px 0 0 0;
      border-top: 1px solid #dddddd;
    }
    ul li {
      list-style: none;
      height: 24px;
    }
    ul li a {
      color: #29524a;
      text-decoration: none;
      font-size: 20px;
      font-weight: light;

    }
    ul li:hover {
      background-color: #eeeeee;
    }
    ul li a:hover {
      color: #c5afa0;
      cursor: pointer;
    }
    .bookmark-item {
      height: 98px;
      border: 1px solid #dddddd;
      border-radius: 4px;
      margin: 8px;
      width: calc(30% - 14px);
      padding: 0px 8px 44px 16px;
      display: inline-block;
      float: left;
    }
    .bookmark-item p {
      font-size: 12px;
      color: black;
    }
    #submit-form {
      margin-left: 300px;
      position: absolute;
      top: 16px;
      width: 400px;
      height: 80px;
      border: 1px solid #dddddd;
    }
    #input-container {
      display: inline-block;
      width: 75%;
      height: 100%;
    }
    #submit-div {
      display: inline-block;
      /*background-color: #94a187;*/
      width: 25%;
      height: 26px;
      padding: 26px 0;
      float: right;
    }
    #submit-form input {
      width: 292px;
      height: 19px;
      outline: none;
      transition: border .2s;
      box-shadow: inset 0 0 0 0px #EEEEEE;
      outline-color: transparent;
    }
    #new-bookmark-button{
      position: absolute;
      top: 32px;
      margin-left: 300px;
    }
    #submit-button {
      display: table-cell;
      vertical-align: middle;
      margin-left: 20px;
    }
    .item-move, .link-move {
    /* applied to the element when moving */
      transition: transform .5s cubic-bezier(.55,0,.1,1);
  }
  .settings-icons {
    font-size: 12px !important;
    position: relative;
    top: 6px;
    display: inline;
    color: silver;
  }
  .favorite-icon {
    font-family: font-awesome;
    border-radius: 0 4px 0px 0;
    padding: 8px 2px 6px 2px;

  }
  .close-icon {
    font-family: font-awesome-solid;
    margin-left: calc(100% - 32px);
    top: 7px;
  }
  .favorite-icon-selected {
    color: orange;
    font-family: font-awesome-solid;
  }
  .settings-icons:hover {
    cursor: pointer;
    color: orange;
  }

    </style>
</head>

<body>
 
  <div id="app">
     <h1 class="page-title"> Roots Network </h1>
     <small> Stay connected </small>
     <div v-if='show' id="submit-form">
      <div id="input-container">
      <input class="half-input" type="text" v-model="newlinkname" placeholder="name">
        <input class="half-input" type="text" v-model="newlinkurl" placeholder="url">
        <input type="text" v-model="newlinkdescription" placeholder="description">
      </div>
        <div id="submit-div">
          <button id='submit-button' v-on:click.prevent="addLink()">Submit</button> 
        </div>
        
     </div>
    <button v-else id="new-bookmark-button" v-on:click="toggleShow()"> Add New Bookmark </button>
    <input type="text" v-model='search' id="searchbar" name="search" value="">
  <ul>
    <li class="bookmark-item" v-for="link in filteredBookmarks">
      <i class="fas fa-times close-icon settings-icons" v-on:click="removeBookmark(link)"></i>
      <i v-if="link.favorited" class="fas fa-star favorite-icon favorite-icon-selected settings-icons" v-on:click="favoriteBookmark(link)"></i>
      <i v-else class="far fa-star favorite-icon settings-icons" v-on:click="favoriteBookmark(link)"></i>
      
      <a v-bind:href=link.hyperlink target=_blank rel="noopener noreferrer">
      {{link.text}}</a>
       <p> {{link.description}} </p>
       <button> {{link.tag}} </button>
      </li>
    </ul>
    </div>


  <script type="text/javascript">
    var app = new Vue({
      el: '#app',
      data: {
        show: false,
        newlinkname: "",
        newlinkurl: "",
        newlinkdescription: "",
        search: '',
         bookmarks: [
      { text: 'Material Design Dev Tutorials', hyperlink: 'https://material.io/collections/developer-tutorials/', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'tutorial', favorited: false, lastlocation: -1 },
      { text: 'Awesome Vue.js Resources', hyperlink: 'https://github.com/vuejs/awesome-vue#youtube-channels', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'Vue.js', favorited: false, lastlocation: -1 },
      { text: 'HackerNews', hyperlink: 'https://news.ycombinator.com/', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'computer science', favorited: false, lastlocation: -1 },
      { text: 'Zenhabits', hyperlink: 'https://zenhabits.net', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'meditation', favorited: false, lastlocation: -1 },
      { text: 'How to Get Rich by Naval Ravikant', hyperlink: 'https://twitter.com/naval/status/1002103360646823936', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'wisdom', favorited: false, lastlocation: -1 },
      { text: 'How to Be Successful by Sam Altman', hyperlink: 'http://blog.samaltman.com/how-to-be-successful', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'wisdom', favorited: false, lastlocation: -1 },
      { text: 'Design in Tech Report 2019', hyperlink: 'https://designintech.report/2019/03/09/design-in-tech-report-2019/', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'website-gallery', favorited: false, lastlocation: -1 },
      { text: '1000 True Fans', hyperlink: 'https://kk.org/thetechnium/1000-true-fans/', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'marketing', favorited: false, lastlocation: -1 },
      { text: 'Typewolf Adobe Fonts', hyperlink: 'https://www.typewolf.com/adobe-fonts', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'typography', favorited: false, lastlocation: -1 },
      { text: 'Morning Rituals by Tim Ferriss ', hyperlink: 'https://fhww.files.wordpress.com/2018/09/tim-ferriss-5-morning-rituals.pdf', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'habit building', favorited: false, lastlocation: -1 },
      { text: 'CSSTricks ', hyperlink: 'https://css-tricks.com', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'CSS', favorited: false, lastlocation: -1 },
      { text: 'Google 2004 Founder Letter', hyperlink: 'https://abc.xyz/investor founders-letters/2004-ipo-letter/', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'wisdom', favorited: false, lastlocation: -1 },
      { text: 'Pentagram', hyperlink: 'http://www.pentagram.com/work/#/all/all/newest/', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'creative agency', favorited: false, lastlocation: -1 },
      { text: 'Sagmeister & Walsh', hyperlink: 'https://sagmeisterwalsh.com/work/', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'creative agency', favorited: false, lastlocation: -1 },
      { text: 'Harvard Meta Lab', hyperlink: 'https://metalabharvard.github.io/', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'creative agency', favorited: false, lastlocation: -1 },
      { text: 'MIT Media Lab', hyperlink: 'https://www.media.mit.edu/research/?filter=projects', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel lectus ut turpis fermentum vestibulum. ', tag: 'creative agency' , favorited: false, lastlocation: -1 },
      { text: 'JSON Placeholder API', hyperlink: 'https://jsonplaceholder.typicode.com/', description: 'A fake online REST API tool for prototyping / testing simple http requests', tag: 'web-development' }

      
    ]
      },
      methods: {
        addLink: function() {
          let newbookmark = { text: this.newlinkname, hyperlink: this.newlinkurl, description: this.newlinkdescription, tag: '', favorited: false, lastlocation: -1};
          this.bookmarks.push(newbookmark)
          this.newlinkname = "";
          this.newlinkurl = "";
          this.newlinkdescription = "";

          this.toggleShow()

          // post to firebase 
          this.$http.post('https://roots-network-69742.firebaseio.com/posts.json', newbookmark).then(function(data) {
          })
        },
        toggleShow: function() {
          app.show = !app.show
        },
        favoriteBookmark: function(link, event) {
          if (link.favorited) {
            this.unfavorite(link);
          }
          else {
            let linkLocation = app.bookmarks.indexOf(link)
            link.lastlocation = linkLocation;
            app.bookmarks.splice(linkLocation, 1)
            app.bookmarks.unshift(link);
            link.favorited = !link.favorited;
            this.$http.put('https://roots-network-69742.firebaseio.com/posts.json', this.bookmarks).then(function(data) {
              console.log('PUT FAV')
          })

            }
        },
        unfavorite: function(link, event) {
          console.log('running unfavorite')
          let linkLocation = app.bookmarks.indexOf(link)
          app.bookmarks.splice(linkLocation, 1)
          app.bookmarks.splice(link.lastlocation, 0, link)
          link.favorited = !link.favorited;
          this.$http.put('https://roots-network-69742.firebaseio.com/posts.json', this.bookmarks).then(function(data) {
              console.log('PUT UNFAV')
          })
        },
        removeBookmark: function(link) {
        let linkLocation = app.bookmarks.indexOf(link)
          if (linkLocation !== -1) {
          app.bookmarks.splice(linkLocation, 1)
          
          this.$http.delete('https://roots-network-69742.firebaseio.com/posts/' + link.id + '/.json', link.id).then(function(data) {
            console.log('https://roots-network-69742.firebaseio.com/posts/' + link.id + '/.json');
          })
          }
        }
    },
    created() {
      this.$http.get('https://roots-network-69742.firebaseio.com/posts.json').then(function(data) {
          // this.bookmarks=data.body;
            return data.json()
          }).then(function(data){
            let fireBookmarks = [];
            for (let key in data) {
              data[key].id = key;
              fireBookmarks.push(data[key])
            }
            this.bookmarks = fireBookmarks;
            // console.log(fireBookmarks)
          })
    },
    computed: {
      filteredBookmarks: function() {
        return this.bookmarks.filter((bookmark) => {
          return bookmark.text.toLowerCase().match(this.search.toLowerCase()) 
        });
      }
    }
  })
    </script>
</body>


</html>
